(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports={navBar:"nav_navBar__BXsKH",logo:"nav_logo__3XwKD"}},15:function(e,t,a){e.exports={formContainer:"form_formContainer__2UaAI",msgErrors:"form_msgErrors__XtpWh",sendEmail:"form_sendEmail__1Gz22",errors:"form_errors__1PUWX",forgotPassword:"form_forgotPassword__1M7wd",notRobot:"form_notRobot__1p_2W"}},185:function(e,t,a){e.exports=a(405)},190:function(e,t,a){},217:function(e,t,a){e.exports=a.p+"static/media/logo.9eaab74d.png"},405:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(22),s=a.n(o),i=(a(190),a(19)),l=a(12),c=a(37),u=a(176),m=a(27),d="SET_CURRENT_USER",p="GET_ALL_PERSONS",h="GET_ALL_CHIPS";function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var E=a(194),g={isAuthenticated:!1,user:{},loading:!1,isVerified:!0},O={error:null};function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var y={persons:[]};function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var w={chips:[]},P=Object(c.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return b({},e,{isAuthenticated:!E(t.payload),user:t.payload});case"USER_LOADING":return b({},e,{loading:!0});case"USER_IS_VERIFIED":return b({},e,{isVerified:!1});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{error:t.payload};default:return e}},persons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{persons:t.payload});default:return e}},chips:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{chips:t.payload});default:return e}}}),N=[u.a],S=Object(c.e)(P,{},Object(c.d)(c.a.apply(void 0,N),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),C=a(4),_=a(5),k=a(7),D=a(6),R=a(8),A=a(38),H=a(100),T=a.n(H),I=a(13),x=a.n(I),V=function(e){e?x.a.defaults.headers.common.Authorization=e:delete x.a.defaults.headers.common.Authorization},L=a(73),U=a.n(L),F=a(3),q=function(e){return n.a.createElement("div",null,e)},B={autoClose:!1,type:F.b.TYPE.ERROR,hideProgressBar:!1};function M(e){return{type:d,payload:e}}var G=function(){return{type:"USER_IS_VERIFIED"}},W=function(){return function(e){localStorage.removeItem("jwtToken"),V(!1),e(M({}))}},z=function(e){function t(){var e,a;Object(C.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(n)))).state={isPrivateNav:!1},a.onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a}return Object(R.a)(t,e),Object(_.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.auth.isAuthenticated?this.setState({isPrivateNav:!0}):this.setState({isPrivateNav:!1})}},{key:"componentDidMount",value:function(){localStorage.getItem("jwtToken")?this.setState({isPrivateNav:!0}):this.setState({isPrivateNav:!1})}},{key:"render",value:function(){return n.a.createElement("nav",{className:T.a.navBar},n.a.createElement(i.b,{to:"/",className:T.a.logo},n.a.createElement("img",{src:a(217),alt:"logo"})),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(i.c,{to:"/"},"Home")),n.a.createElement("li",null,this.state.isPrivateNav?n.a.createElement(i.c,{to:"/dashboard"},"Dashboard"):n.a.createElement(i.c,{to:"login"},"Login")),n.a.createElement("li",null,this.state.isPrivateNav?n.a.createElement(i.c,{to:"/",onClick:this.onLogoutClick},"Logout"):n.a.createElement(i.c,{to:"register"},"Register"))))}}]),t}(n.a.Component),X=Object(l.b)(function(e){return{auth:e.auth}},{logoutUser:W})(z),Y=function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Hello from Home page"))}}]),t}(r.Component),K=a(14),Q=a(10),J=a(15),Z=a.n(J),$=a(183),ee=K.object().shape({firstName:K.string().min(2,"Too Short!").max(50,"Too Long!").required("Required"),lastName:K.string().min(2,"Too Short!").max(50,"Too Long!").required("Required"),email:K.string().email("Invalid email").required("Required"),password:K.string().required("Required").min(6,"Password is too short - should be 8 chars minimum.")}),te=function(e){function t(){var e,a;Object(C.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=Object(k.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(o)))).state={errors:{},isHide:!0,isNotRobot:!1},a.submitHandler=function(e){var t=document.querySelector("iframe[name]");a.state.isNotRobot?a.props.registerUser(e,a.props.history):(t.style.border="1px solid red",F.b.dismiss(),F.b.error(n.a.createElement("div",null,"Please check the box 'I am not a Robot'")))},a.passwordHandler=function(){var e=document.getElementById("inputPassword");a.state.isHide?(e.type="text",a.setState({isHide:!1})):(e.type="password",a.setState({isHide:!0}))},a.onReCAPTCHA=function(e){document.querySelector("iframe[name]").style.border="none",a.setState({isNotRobot:!a.state.isNotRobot})},a}return Object(R.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this;return F.b.dismiss(),n.a.createElement("div",{className:Z.a.formContainer},n.a.createElement("h1",null,"Register"),n.a.createElement(Q.c,{initialValues:{firstName:"",lastName:"",email:"",password:""},validationSchema:ee,onSubmit:function(t){e.submitHandler(t)}},function(t){var a=t.errors,r=t.touched;return n.a.createElement(Q.b,null,n.a.createElement("div",null,n.a.createElement(Q.a,{type:"text",name:"firstName",placeholder:"Enter First Name"}),a.firstName&&r.firstName?n.a.createElement("div",{className:Z.a.errors},a.firstName):null),n.a.createElement("div",null,n.a.createElement(Q.a,{type:"text",name:"lastName",placeholder:"Enter Last Name"}),a.lastName&&r.lastName?n.a.createElement("div",{className:Z.a.errors},a.lastName):null),n.a.createElement("div",null,n.a.createElement(Q.a,{name:"email",type:"email",placeholder:"Enter Email"}),a.email&&r.email?n.a.createElement("div",{className:Z.a.errors},a.email):null),n.a.createElement("div",null,n.a.createElement(Q.a,{name:"password",type:"password",placeholder:"Create Password",id:"inputPassword"}),a.password&&r.password?n.a.createElement("div",{className:Z.a.errors},a.password):null,n.a.createElement("i",{className:e.state.isHide?"fas fa-eye-slash":"fas fa-eye",onClick:e.passwordHandler})),n.a.createElement("input",{type:"submit",value:"Register"}),n.a.createElement("p",null,"Already have an account ",n.a.createElement(i.b,{to:"/login"},"Login")))}),n.a.createElement($.a,{sitekey:"6Let4MQUAAAAAEQMF88qwTV1oqjrMgP8iqUSO2Qk",onChange:this.onReCAPTCHA,className:Z.a.notRobot,hl:"en"}))}}]),t}(n.a.Component),ae=Object(l.b)(function(e){return{auth:e.auth,errors:e.errors,msg:e.msg}},{registerUser:function(e,t){return function(a){x.a.post("/register",e).then(function(e){"success"===e.data.status?(t.push("/login"),F.b.info(q("Hello ".concat(e.data.user.firstName,", please check your email to verify your account.!")))):(F.b.dismiss(),Object(F.b)(q(e.data.msg),B))}).catch(function(e){return a({type:"GET_ERRORS",payload:e.response.data})})}}})(Object(A.g)(te)),re=K.object().shape({email:K.string().email("Invalid email").required("Required"),password:K.string().required("Required").min(6,"Password is too short")}),ne=function(e){function t(){var e,a;Object(C.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=Object(k.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(o)))).state={email:"",msg:null,error:null,isHide:!0,isVerified:!0},a.passwordHandler=function(){var e=document.getElementById("inputPassword");a.state.isHide?(e.type="text",a.setState({isHide:!1})):(e.type="password",a.setState({isHide:!0}))},a.sendEmailVerify=function(){var e={};e.email=a.state.email,console.log(e),x.a.post("/resendVerifyEmail",e).then(function(e){console.log(e),"success"===e.data.status?F.b.info(n.a.createElement("div",null,e.data.msg)):a.setState({msg:e.data.msg}),a.setState({isVerified:!0})})},a}return Object(R.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/dashboard"),e.error&&this.setState({error:e.error}),e.isVerified||this.setState({isVerified:!1}),this.setState({isVerified:e.isVerified})}},{key:"submitHandler",value:function(e){this.setState({email:e.email,isVerified:!0}),this.props.loginUser(e)}},{key:"render",value:function(e){var t=this;return F.b.dismiss(),n.a.createElement("div",{className:Z.a.formContainer},n.a.createElement("h1",null,"Welcome"),!this.state.isVerified&&n.a.createElement("p",{className:Z.a.msgErrors},"Your account has not been verified, please check your email.!",n.a.createElement("br",null),n.a.createElement("span",{onClick:this.sendEmailVerify,className:Z.a.sendEmail},"or click here to send email again")),this.state.msg&&!this.state.isVerified&&n.a.createElement("p",{className:Z.a.msgErrors},this.state.msg),n.a.createElement(Q.c,{initialValues:{email:"",password:""},validationSchema:re,onSubmit:function(e){t.submitHandler(e)}},function(e){var a=e.errors,r=e.touched;return n.a.createElement(Q.b,null,n.a.createElement("div",null,n.a.createElement(Q.a,{type:"email",placeholder:"Enter Email",name:"email"}),a.email&&r.email?n.a.createElement("div",{className:Z.a.errors},a.email):null),n.a.createElement("div",null,n.a.createElement(Q.a,{type:"password",placeholder:"Enter Password",name:"password",id:"inputPassword"}),a.password&&r.password?n.a.createElement("div",{className:Z.a.errors},a.password):null,n.a.createElement("i",{className:t.state.isHide?"fas fa-eye-slash":"fas fa-eye ",onClick:t.passwordHandler}),n.a.createElement(i.b,{to:"/forgotPassword",className:Z.a.forgotPassword},"Forgot your password?")),n.a.createElement("input",{type:"submit",value:"Login"}),n.a.createElement("p",null,"Create a Account? ",n.a.createElement(i.b,{to:"/register"},"Register")))}))}}]),t}(n.a.Component),oe=Object(l.b)(function(e){return{auth:e.auth,error:e.error,isVerified:e.isVerified}},{loginUser:function(e){return function(t){x.a.post("/login",e).then(function(e){if("isNotUser"===e.data.status)return F.b.dismiss(),Object(F.b)(q(e.data.msg),B);if("isNotVerified"===e.data.status)return t(G());if("error"===e.data.status)return F.b.dismiss(),Object(F.b)(q(e.data.msg),B);var a=e.data.token;localStorage.setItem("jwtToken",a),V(a);var r=U()(a);t(M(r))}).catch(function(e){return t({type:"GET_ERRORS",payload:e})})}}})(ne),se=function(e){return n.a.createElement("div",null,e)},ie={autoClose:!1,type:F.b.TYPE.ERROR,hideProgressBar:!1},le=K.object().shape({email:K.string().email("Invalid email").required("Required")}),ce=function(e){function t(){var e,a;Object(C.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(n)))).submitHandler=function(e){x.a.post("/forgotPassword",e).then(function(e){"success"===e.data.status?F.b.info(se("".concat(e.data.result))):Object(F.b)(se(e.data.msg),ie)})},a}return Object(R.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:Z.a.formContainer},n.a.createElement("h1",null,"Forgot Password"),n.a.createElement(Q.c,{initialValues:{email:""},validationSchema:le,onSubmit:function(t){e.submitHandler(t)}},function(e){var t=e.errors,a=e.touched;return n.a.createElement(Q.b,null,n.a.createElement("div",null,n.a.createElement("label",null,"Please type your email address to change your password"),n.a.createElement(Q.a,{type:"email",placeholder:"Email Addess",name:"email"}),t.email&&a.email?n.a.createElement("div",{className:Z.a.errors},t.email):null),n.a.createElement("input",{type:"submit",value:"Send Email"}))}))}}]),t}(n.a.Component);function ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var me=function(e){return n.a.createElement("div",null,e)},de={autoClose:!1,type:F.b.TYPE.ERROR,hideProgressBar:!1},pe=K.object().shape({password:K.string().required("Required").min(6,"Password is too short - should be 6 chars minimum.")}),he=function(e){function t(){var e,a;Object(C.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(n)))).state={email:null,error:null,updated:!1},a.submitHandler=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ue(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ue(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({email:a.state.email},e);x.a.post("/updatePasswordViaEmail",t).then(function(e){"success"===e.data.status?a.setState({updated:!0}):(a.setState({updated:!1}),Object(F.b)(me(e.data.msg),de))})},a.loginHandler=function(){a.props.history.replace("/login")},a.sendEmailAgainHandler=function(){a.props.history.replace("/forgotPassword")},a}return Object(R.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;x.a.post("/resetPassword/".concat(this.props.match.params.id)).then(function(t){"success"===t.data.status?e.setState({email:t.data.email}):e.setState({error:t.data.msg})})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:Z.a.formContainer},this.state.error&&n.a.createElement("div",{className:"resetPassword"},n.a.createElement("h3",null,this.state.error),n.a.createElement("button",{onClick:this.sendEmailAgainHandler},"Send Email Again")),this.state.updated&&n.a.createElement("div",{className:"resetPassword"},n.a.createElement("h3",null,"Your password has been successfully reset, please try logging in again. "),n.a.createElement("button",{onClick:this.loginHandler},"Login")),!this.state.error&&!this.state.updated&&n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Reset Password"),n.a.createElement(Q.c,{initialValues:{password:""},validationSchema:pe,onSubmit:function(t){e.submitHandler(t),console.log(t)}},function(t){var a=t.errors,r=t.touched;return n.a.createElement(Q.b,null,n.a.createElement("div",null,n.a.createElement("label",null,e.state.email)),n.a.createElement("div",null,n.a.createElement(Q.a,{type:"password",placeholder:"Enter New Password",name:"password"}),a.password&&r.password?n.a.createElement("div",{className:Z.a.errors},a.password):null),n.a.createElement("input",{type:"submit",value:"Save"}))})))}}]),t}(n.a.Component),fe=function(e){function t(){var e,a;Object(C.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(n)))).state={msg:null,isVerified:!1},a.loginHandler=function(){a.props.history.replace("/login")},a.registerHandler=function(){a.props.history.replace("/register")},a}return Object(R.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;x.a.post("/confirmation/".concat(this.props.match.params.id)).then(function(t){console.log(t),"success"===t.data.status?e.setState({msg:t.data.msg,isVerified:!0}):e.setState({msg:t.data.msg,isVerified:!1})})}},{key:"render",value:function(){return n.a.createElement("div",{className:"confirmation"},n.a.createElement("h3",null,this.state.msg),this.state.isVerified?n.a.createElement("button",{onClick:this.loginHandler},"Go To Login"):n.a.createElement("button",{onClick:this.registerHandler},"Go To Register"))}}]),t}(r.Component),be=a(9),Ee=a.n(be),ge=a(51),Oe={autoClose:!1,type:F.b.TYPE.ERROR,hideProgressBar:!1},ve=function(){return function(e){x.a.get("/dashboard/persons").then(function(t){var a;"success"===t.data.status&&e((a=t.data.persons,{type:p,payload:a}))})}};var ye={autoClose:!1,type:F.b.TYPE.ERROR,hideProgressBar:!1};var je=a(182),we=a.n(je),Pe=a(28),Ne=function(e,t){return e?function(e){var t=new Date(e),a=t.getHours(),r=t.getMinutes();return a<10&&(a="0"+a),r<10&&(r="0"+r),"".concat(a,":").concat(r)}(e):"-"},Se=function(e){function t(){var e,a;Object(C.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(n)))).state={date:new Date,chipsList:[],swipesOfDate:[],persons:[],finalListOfPersons:[],isOpen:!1},a.onChange=function(e){return a.setState({date:e})},a.onClickDay=function(e){for(var t=Object(ge.a)(a.state.chipsList),r=[],n=0;n<t.length;n++){var o={},s=t[n].swipes.filter(function(t){return e.getFullYear()===new Date(t).getFullYear()&&e.getMonth()===new Date(t).getMonth()&&e.getDate()===new Date(t).getDate()});o.coming=s[0],o.leaving=s[s.length-1],o.chipNumber=t[n].chipNumber,r.push(o)}a.setState({swipesOfDate:r,isOpen:!0},function(){a.compareChipsAndPersons()})},a.compareChipsAndPersons=function(){var e=Object(ge.a)(a.state.persons),t=Object(ge.a)(a.state.swipesOfDate),r=[];e.forEach(function(e){return t.forEach(function(t){e.rfId===t.chipNumber&&(t.firstName=e.firstName,r.push(t))})}),a.setState({finalListOfPersons:r})},a}return Object(R.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.getAllChips(),this.props.getAllPersons()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({chipsList:Object(ge.a)(e.chips.chips),persons:Object(ge.a)(e.persons.persons)})}},{key:"render",value:function(){return n.a.createElement("section",{className:Ee.a.dailyCheckContainer},n.a.createElement(we.a,{locale:"en",onClickDay:this.onClickDay,onChange:this.onChange,value:this.state.date}),this.state.isOpen?n.a.createElement(Pe.BootstrapTable,{data:this.state.finalListOfPersons,search:!0,multiColumnSearch:!0,pagination:!0,headerStyle:{color:"#000033"},options:{sizePerPage:5,sizePerPageList:[5,10,{text:"All",value:this.state.finalListOfPersons.length}],clearSearch:!0}},n.a.createElement(Pe.TableHeaderColumn,{isKey:!0,dataField:"firstName",dataSort:!0},"Name"),n.a.createElement(Pe.TableHeaderColumn,{dataField:"coming",dataFormat:Ne},"Coming"),n.a.createElement(Pe.TableHeaderColumn,{dataField:"leaving",dataFormat:Ne},"Leaving")):n.a.createElement("p",{className:Ee.a.tip},"Please choose a day to see details"))}}]),t}(n.a.Component),Ce=Object(l.b)(function(e){return{persons:e.persons,chips:e.chips}},{getAllPersons:ve,getAllChips:function(){return function(e){x.a.get("/dashboard/chips").then(function(t){var a,r;"success"===t.data.status?e((r=t.data.chips,{type:h,payload:r})):(F.b.dismiss(),Object(F.b)((a=t.data.msg,n.a.createElement("div",null,a)),ye))})}}})(Se),_e=a(43);function ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function De(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ke(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ke(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Re=K.object().shape({firstName:K.string().min(2,"Too Short!").max(50,"Too Long!").required("Required"),rfId:K.string().min(2,"Too Short!").max(50,"Too Long!").required("Required"),email:K.string().email("Invalid email").required("Required")}),Ae=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(k.a)(this,Object(D.a)(t).call(this,e))).close=function(){a.setState({isOpen:!1}),a.props.onUpdate(a.props.defaultValue)},a.submitHandler=a.submitHandler.bind(Object(_e.a)(a)),a.state={personData:{_id:e.row._id,firstName:e.row.firstName,rfId:e.row.rfId,email:e.row.email},roles:e.row.roles,isOpen:!0},a}return Object(R.a)(t,e),Object(_.a)(t,[{key:"submitHandler",value:function(e){var t=De({roles:this.state.roles},e);this.props.onUpdate(this.props.defaultValue),this.props.editPersonData(t),this.setState({isOpen:!1})}},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,this.state.isOpen?n.a.createElement("div",{className:Ee.a.editContainer},n.a.createElement(Q.c,{initialValues:De({},this.state.personData),validationSchema:Re,onSubmit:function(t){e.submitHandler(t)}},function(t){var a=t.errors,r=t.touched;return n.a.createElement(Q.b,null,n.a.createElement("div",{className:Ee.a.inputItem},n.a.createElement("label",null,"First Name:"),n.a.createElement(Q.a,{type:"text",name:"firstName",placeholder:"Enter First Name"}),a.firstName&&r.firstName?n.a.createElement("div",{className:Ee.a.errors},a.firstName):null),n.a.createElement("div",{className:Ee.a.inputItem},n.a.createElement("label",null,"Email:"),n.a.createElement(Q.a,{name:"email",placeholder:"Enter Email",type:"email"}),a.email&&r.email?n.a.createElement("div",{className:Ee.a.errors},a.email):null),n.a.createElement("div",{className:Ee.a.inputItem},n.a.createElement("label",null,"Chip Number:"),n.a.createElement(Q.a,{type:"text",name:"rfId",placeholder:"Enter Chip Number"}),a.rfId&&r.rfId?n.a.createElement("div",{className:Ee.a.errors},a.rfId):null),n.a.createElement("div",{className:Ee.a.inputItem},n.a.createElement("button",{type:"button",onClick:e.close},"Close"),n.a.createElement("input",{type:"submit",value:"Save"})))}),n.a.createElement("div",{className:Ee.a.blackBg,onClick:this.close})):null)}}]),t}(n.a.Component),He=Object(l.b)(null,{editPersonData:function(e){return function(t){x.a.post("/dashboard/editPerson",e).then(function(e){var a;"success"===e.data.status?t(ve()):(F.b.dismiss(),Object(F.b)((a=e.data.msg,n.a.createElement("div",null,a)),Oe))})}}})(Ae);function Te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var Ie=["Manager","Member","Null"],xe=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(k.a)(this,Object(D.a)(t).call(this,e))).state={personData:{_id:e.row._id,firstName:e.row.firstName,rfId:e.row.rfId,email:e.row.email},roles:e.defaultValue},a.updateData=a.updateData.bind(Object(_e.a)(a)),a.onToggleRoles=a.onToggleRoles.bind(Object(_e.a)(a)),a}return Object(R.a)(t,e),Object(_.a)(t,[{key:"onToggleRoles",value:function(e){var t=e.currentTarget.name;"App Manager"!==this.state.roles[0]&&(this.state.roles.indexOf(t)<0?this.setState({roles:[t]}):this.setState({roles:this.state.roles.filter(function(e){return e!==t})}))}},{key:"updateData",value:function(){var e=this;this.props.onUpdate(this.state.roles);var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Te(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Te(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({roles:this.state.roles},this.state.personData);x.a.post("/dashboard/editPerson",t).then(function(t){"success"===t.data.status?e.setState({open:!1}):(F.b.dismiss(),F.b.error(n.a.createElement("div",null,t.data.msg)))})}},{key:"render",value:function(){var e=this,t=Ie.map(function(t){return n.a.createElement("div",{key:"div-".concat(t)},n.a.createElement("input",{type:"radio",key:t,name:t,checked:e.state.roles.indexOf(t)>-1,onKeyDown:e.props.onKeyDown,onChange:e.onToggleRoles}),n.a.createElement("label",{key:"label-".concat(t),htmlFor:t},t))});return n.a.createElement("div",null,t,n.a.createElement("button",{className:Ee.a.selectButton,onClick:this.updateData},"Save"))}}]),t}(n.a.Component),Ve=function(e,t){return!0===e?'<i class="fas fa-circle green"></i> '+e:'<i class="fas fa-circle red"></i> '+e},Le=function(e,t){return"Null"===e[0]?n.a.createElement("span",{style:{color:"#ff000088"}},(e||[]).join(", ")):"App Manager"===e[0]?n.a.createElement("span",{style:{color:"#000033"}},(e||[]).join(", ")):n.a.createElement("span",null,(e||[]).join(", "))},Ue=function(e,t){return n.a.createElement(He,Object.assign({onUpdate:e},t))},Fe=function(e,t){return n.a.createElement(xe,Object.assign({onUpdate:e},t))},qe=function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.getAllPersons()}},{key:"render",value:function(){var e=this.props.persons.persons;return n.a.createElement("section",{className:Ee.a.membersContainer},n.a.createElement(Pe.BootstrapTable,{data:e,cellEdit:{mode:"click"},search:!0,multiColumnSearch:!0,pagination:!0,headerStyle:{color:"#000033"},options:{sizePerPage:5,sizePerPageList:[5,10,{text:"All",value:e.length}],clearSearch:!0}},n.a.createElement(Pe.TableHeaderColumn,{dataField:"rfId",dataSort:!0,customEditor:{getElement:Ue},thStyle:{width:"15%"},tdStyle:{width:"15%"}},"Chip Number"),n.a.createElement(Pe.TableHeaderColumn,{dataField:"firstName",customEditor:{getElement:Ue},thStyle:{width:"15%"},tdStyle:{width:"15%"}},"Name"),n.a.createElement(Pe.TableHeaderColumn,{dataField:"email",customEditor:{getElement:Ue}},"E-mail"),n.a.createElement(Pe.TableHeaderColumn,{dataField:"roles",dataFormat:Le,customEditor:{getElement:Fe}},"Roles"),n.a.createElement(Pe.TableHeaderColumn,{isKey:!0,dataField:"isVerified",thStyle:{width:"90px"},tdStyle:{width:"90px"},dataFormat:Ve},"Verified")))}}]),t}(n.a.Component),Be=Object(l.b)(function(e){return{persons:e.persons}},{getAllPersons:ve})(qe),Me=function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return n.a.createElement("section",{className:Ee.a.profileContainer},n.a.createElement("header",null),n.a.createElement("section",{className:Ee.a.content},n.a.createElement("figure",null),n.a.createElement("h5",null,"User Name"),n.a.createElement("hr",null),n.a.createElement("main",null),n.a.createElement("div",{className:"portfolioSwiper"})))}}]),t}(n.a.Component),Ge=Object(l.b)(function(e){return{}},null)(Me),We=function(e){function t(){var e,a;Object(C.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=Object(k.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(o)))).state={itemDisplayed:null,sidebarItems:[{id:1,icon:"fas fa-columns",text:"Daily Check"},{id:2,icon:"fas fa-user-tie",text:"Profile"},{id:3,icon:"fas fa-users",text:"Members"},{id:4,icon:"fas fa-border-all",text:"Category"},{id:5,icon:"far fa-folder-open",text:"Archive"},{id:6,icon:"far fa-calendar-alt",text:"Calendar"},{id:7,icon:"fas fa-cog",text:"Setting"}]},a.clickHandler=function(e){var t=e.target.innerText;a.setState({itemDisplayed:t})},a.switchItemsInSidebar=function(e){switch(e){case"Daily Check":return n.a.createElement(Ce,null);case"Members":return n.a.createElement(Be,null);case"Profile":return n.a.createElement(Ge,null);default:return n.a.createElement("h1",{className:Ee.a.comingSoon},"Coming soon.!")}},a.onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a}return Object(R.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this,t=this.props.auth.user;return n.a.createElement("section",{className:Ee.a.managerContainer},n.a.createElement("section",{className:Ee.a.sidebarContainer},n.a.createElement("header",null,n.a.createElement("i",{className:"fas fa-user-tie"}),n.a.createElement("h4",null,t.firstName)),n.a.createElement("aside",null,n.a.createElement("ul",null,this.state.sidebarItems.map(function(t){return n.a.createElement("li",{key:t.id,onClick:function(t){return e.clickHandler(t)}},n.a.createElement("i",{className:t.icon}),t.text)}))),n.a.createElement("footer",null,n.a.createElement("button",{onClick:this.onLogoutClick},n.a.createElement("i",{className:"fas fa-sign-out-alt"}),n.a.createElement("p",null,"Logout")))),this.switchItemsInSidebar(this.state.itemDisplayed))}}]),t}(n.a.Component),ze=Object(l.b)(function(e){return{auth:e.auth}},{logoutUser:W})(We),Xe=function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return n.a.createElement("section",{className:Ee.a.employeeContainer},"Employee")}}]),t}(n.a.Component),Ye=function(e){function t(){var e,a;Object(C.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=Object(k.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(o)))).userSwitch=function(e){switch(a.checkRoleOfUser(e)){case"App Manager":return n.a.createElement(ze,null);default:return n.a.createElement(Xe,null)}},a}return Object(R.a)(t,e),Object(_.a)(t,[{key:"checkRoleOfUser",value:function(e){for(var t=0;t<e.length;t++)return e[t],e[t]}},{key:"render",value:function(){var e=this.props.auth.user;return n.a.createElement(n.a.Fragment,null,this.userSwitch(e.roles))}}]),t}(r.Component),Ke=Object(l.b)(function(e){return{auth:e.auth}},null)(Ye),Qe=a(184),Je=Object(l.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,r=Object(Qe.a)(e,["component","auth"]);return n.a.createElement(A.b,Object.assign({},r,{render:function(e){return!0===a.isAuthenticated?n.a.createElement(t,e):n.a.createElement(A.a,{to:"/login"})}}))});function Ze(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Error 404"),n.a.createElement(i.b,{to:"/"},"Go To HomePage"))}a(403),a(404);if(localStorage.jwtToken){var $e=localStorage.jwtToken;V($e);var et=U()($e);S.dispatch(M(et));var tt=Date.now()/1e3;et.exp<tt&&(S.dispatch(W()),window.location.href="./login")}var at=function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(F.a,{position:"top-center",autoClose:8e3}),n.a.createElement(X,null),n.a.createElement(A.d,null,n.a.createElement(A.b,{exact:!0,path:"/",render:function(e){return n.a.createElement(Y,e)}}),n.a.createElement(A.b,{exact:!0,path:"/register",render:function(e){return n.a.createElement(ae,e)}}),n.a.createElement(A.b,{exact:!0,path:"/login",render:function(e){return n.a.createElement(oe,e)}}),n.a.createElement(A.b,{exact:!0,path:"/forgotPassword",render:function(e){return n.a.createElement(ce,e)}}),n.a.createElement(A.b,{exact:!0,path:"/resetPassword/:id",render:function(e){return n.a.createElement(he,e)}}),n.a.createElement(A.b,{exact:!0,path:"/confirmation/:id",render:function(e){return n.a.createElement(fe,e)}}),n.a.createElement(Je,{exact:!0,path:"/dashboard",component:Ke}),n.a.createElement(A.b,{component:Ze})))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(l.a,{store:S},n.a.createElement(i.a,null,n.a.createElement(at,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports={managerContainer:"dashboard_managerContainer___Iv84",dailyCheckContainer:"dashboard_dailyCheckContainer__2znQm",tip:"dashboard_tip__1h9x7",membersContainer:"dashboard_membersContainer__erGbu",selectButton:"dashboard_selectButton__1OQBH",editContainer:"dashboard_editContainer__1jjOT",selectItems:"dashboard_selectItems__3pfVx",inputItem:"dashboard_inputItem__jdefe",errors:"dashboard_errors__NiN0x",sidebarContainer:"dashboard_sidebarContainer__1h7DO",profileContainer:"dashboard_profileContainer__Kd3gt",content:"dashboard_content__VsKxh",comingSoon:"dashboard_comingSoon__1Z-q4",blackBg:"dashboard_blackBg__zSBLX"}}},[[185,1,2]]]);
//# sourceMappingURL=main.01ec0195.chunk.js.map